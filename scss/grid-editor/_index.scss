@use "sass:math";

@mixin grid-editor($width, $gutter-fraction, $cell-width-to-height-ratio) {
  $gutterSize: $gutter-fraction * $width;
  $singleCellHeight: math.div($width, $cell-width-to-height-ratio);
  $doubleCellWidth: math.div($width - $gutterSize, 2);
  $doubleCellHeight: math.div($doubleCellWidth, $cell-width-to-height-ratio);
  $doubleContainerHeight: 2 * $doubleCellHeight + $gutterSize;

  .tgrow_prnt {
    width: $width;
    margin: 0 auto;

    .tgrow {
      width: $width;

      .block-editor-inner-blocks {
        margin: 0;
        padding: 0;
        width: $width;
        height: inherit;

        .block-editor-block-list__layout {
          margin: 0;
          padding: 0;
          width: $width;
          height: inherit;

          display: grid;

          .wp-block {
            margin: 0;
            padding: 0;

            .tgcol {
              height: inherit;
              width: 100%;
              margin: 0;
              padding: 0;
            }
          }
        }
      }
    }

    .tgrow.uno {
      height: $singleCellHeight;

      .block-editor-block-list__layout {
        grid-template-rows: $singleCellHeight;
        grid-template-columns: 100%;

        .wp-block {
          height: $singleCellHeight;
        }
      }
    }

    .tgrow.duo {
      height: $doubleCellHeight;

      .block-editor-block-list__layout {
        grid-template-columns: $doubleCellWidth $doubleCellWidth;
        grid-template-rows: $doubleCellHeight;

        .wp-block {
          height: $singleCellHeight;
        }
      }
    }

    .tgrow.tbr {
      height: $doubleContainerHeight;

      .block-editor-block-list__layout {
        grid-template-columns: $doubleCellWidth $doubleCellWidth;
        grid-template-rows: $doubleCellHeight $doubleCellHeight;

        .wp-block:nth-child(1) {
          height: $doubleCellHeight;
          grid-row: 1 / 1;
          grid-column: 1 / 1;
        }

        .wp-block:nth-child(2) {
          height: $doubleCellHeight;
          grid-row: 2 / 2;
          grid-column: 1 / 1;
        }

        .wp-block:nth-child(3) {
          height: $doubleContainerHeight;
          grid-row-start: 1;
          grid-row-end: span 2;
          grid-column: 2 / 2;
        }
      }
    }


    .tgrow.ltb {
      height: $doubleContainerHeight;

      .block-editor-block-list__layout {
        grid-template-columns: $doubleCellWidth $doubleCellWidth;
        grid-template-rows: $doubleCellHeight $doubleCellHeight;

        .wp-block:nth-child(1) {
          height: $doubleContainerHeight;
          grid-row-start: 1;
          grid-row-end: span 2;
          grid-column: 1 / 1;
        }

        .wp-block:nth-child(2) {
          height: $doubleCellHeight;
          grid-row: 1 / 1;
          grid-column: 2 / 2;
        }

        .wp-block:nth-child(3) {
          height: $doubleCellHeight;
          grid-row: 2 / 2;
          grid-column: 2 / 2;
        }
      }
    }
  }
}
